{
   "title": "event_descriptor",
   "description": "Document to describe the data captured in the associated event documents",
   "type": "object",
   "definitions": {
      "configuration": {
         "type": "object",
         "properties": {
            "data": {
               "description": "The actual measurement data",
               "type": "object"
            },
            "data_keys": {
               "description": "This describes the data stored alongside it in this configuration object.",
               "type": "object",
               "additionalProperties": {
                  "$ref": "#/definitions/data_key"
               }
            },
            "timestamps": {
               "description": "The timestamps of the individual measurement data",
               "type": "object"
            }
         }
      },
      "data_key": {
         "title": "data_key",
         "description": "Describes the objects in the data property of Event documents",
         "type": "object",
         "properties": {
            "dims": {
               "description": "The names for dimensions of the data. Null or empty list if scalar data",
               "type": "array",
               "items": {
                  "type": "string"
               }
            },
            "dtype": {
               "description": "The type of the data in the event.",
               "type": "string",
               "enum": [
                  "string",
                  "number",
                  "array",
                  "boolean",
                  "integer"
               ]
            },
            "external": {
               "description": "Where the data is stored if it is stored external to the events.",
               "type": "string",
               "pattern": "^[A-Z]+:?"
            },
            "object_name": {
               "description": "The name of the object this key was pulled from.",
               "type": "string"
            },
            "shape": {
               "description": "The shape of the data.  Empty list indicates scalar data.",
               "type": "array",
               "items": {
                  "type": "integer"
               }
            },
            "source": {
               "description": "The source (ex piece of hardware) of the data.",
               "type": "string"
            }
         },
         "required": [
            "source",
            "dtype",
            "shape"
         ]
      },
      "data_type": {
         "title": "data_type",
         "additionalProperties": false,
         "patternProperties": {
            "^([^./]+)$": {
               "$ref": "#/definitions/data_type"
            }
         }
      },
      "object_hints": {
         "title": "Object Hints",
         "additionalProperties": false,
         "patternProperties": {
            "^([^./]+)$": {
               "$ref": "#/definitions/per_object_hint"
            }
         }
      },
      "per_object_hint": {
         "type": "object",
         "properties": {
            "fields": {
               "description": "The 'interesting' data keys for this device.",
               "type": "array",
               "items": {
                  "type": "string"
               }
            }
         }
      }
   },
   "properties": {
      "configuration": {
         "description": "Readings of configurational fields necessary for interpreting data in the Events.",
         "type": "object",
         "additionalProperties": {
            "$ref": "#/definitions/configuration"
         }
      },
      "data_keys": {
         "title": "data_keys",
         "description": "This describes the data in the Event Documents.",
         "type": "object",
         "additionalProperties": {
            "$ref": "#/definitions/data_key"
         }
      },
      "hints": {
         "$ref": "#/definitions/object_hints"
      },
      "name": {
         "description": "A human-friendly name for this data stream, such as 'primary' or 'baseline'.",
         "type": "string"
      },
      "object_keys": {
         "description": "Maps a Device/Signal name to the names of the entries it produces in data_keys.",
         "type": "object"
      },
      "run_start": {
         "description": "Globally unique ID of this run's 'start' document.",
         "type": "string"
      },
      "time": {
         "description": "Creation time of the document as unix epoch time.",
         "type": "number"
      },
      "uid": {
         "title": "uid",
         "description": "Globally unique ID for this event descriptor.",
         "type": "string"
      }
   },
   "required": [
      "uid",
      "data_keys",
      "run_start",
      "time"
   ],
   "additionalProperties": false,
   "patternProperties": {
      "^([^./]+)$": {
         "$ref": "#/definitions/data_type"
      }
   }
}